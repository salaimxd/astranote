# プロジェクト共通ガイドライン

このドキュメントは、プロジェクト全体の共通方針を定めています。

**重要：サブディレクトリ内で作業する場合は、必ずそのディレクトリの GEMINI.md を読み込んでから作業を開始すること。** ルートの共通方針に加え、各ディレクトリ固有のルール・規約が定義されています。

## 📋 サブディレクトリ別ガイドライン

| 作業対象 | 読むべきファイル | 内容 |
|----------|------------------|------|
| `docs/` 配下 | **[docs/GEMINI.md](./docs/GEMINI.md)** | ドキュメント執筆ルール、フレームワーク構造、frontmatter管理 |
| `app/` 配下 | **[app/GEMINI.md](./app/GEMINI.md)** | コーディング規約、ブランチ戦略、品質チェック |
| `mvp/` 配下 | **[mvp/GEMINI.md](./mvp/GEMINI.md)** | MVP開発原則、スコープ管理、検証フロー |

## 全体方針

### 基本原則

- 特に指示がない限り、必ず**日本語**で回答・作成する
- **仕様駆動開発（Specification-Driven Development）**を実践する
- `docs/` ディレクトリの仕様書を**唯一の信頼できる情報源（SSOT）**とする

### プロジェクト構成

```
プロジェクトルート/
├── docs/                # ドキュメントサイト（プロダクト仕様・ガイド）
│   ├── GEMINI.md        # ドキュメント執筆者向けガイドライン
│   └── docs/framework/  # 8つのフェーズ別ドキュメント
│       ├── 01_discovery/       # Discovery（発見）
│       ├── 02_validation/      # Validation（検証）
│       ├── 03_refinement/      # Refinement（深化）
│       ├── 04_strategy/        # Strategy（戦略）
│       ├── 05_specification/   # Specification（仕様）
│       ├── 06_engineering/     # Engineering（設計）
│       ├── 07_go_to_market/    # Go-to-Market（市場投入）
│       └── 08_metrics/         # Metrics（計測）
│
├── app/                 # アプリケーションコード（本番用）
│   └── GEMINI.md        # 開発者向けガイドライン
│
└── mvp/                 # MVP検証用アプリ
    └── GEMINI.md        # MVP開発者向けガイドライン
```

### 役割分担

| ディレクトリ | 役割                         | 主な内容                                                 |
| ------------ | ---------------------------- | -------------------------------------------------------- |
| `docs/`      | プロダクト仕様・ガイド       | ペルソナ、ジャーニーマップ、ユーザーストーリー、仕様書等 |
| `app/`       | アプリケーション実装（本番用） | ソースコード、テスト、設定ファイル等                     |
| `mvp/`       | MVP検証用アプリ              | 仮説検証用の軽量実装、計測コード等                       |

### Docs-as-Code の採用

- **ドキュメントを「コード」として扱う**：文書を Git で管理し、コードと同じワークフロー（作成、レビュー、自動デプロイ）に組み込む
- **開発プロセスへの統合**：ドキュメントの更新をソフトウェア開発サイクル（SDLC）と同期させる

### 仕様駆動開発の実践

1. **仕様ファースト**：コードを書く前に、必ず `docs/` 内の仕様書を作成・更新する
2. **仕様と実装の同期**：仕様書を SSOT とし、実装との乖離を防ぐため常に最新の状態に保つ
3. **相互参照**：仕様書と実装コードを相互に参照できるようにする

## サブディレクトリガイドラインの読み込みルール

**作業対象のサブディレクトリに `GEMINI.md` がある場合、作業開始前に必ず読み込むこと。**

例：
- `docs/` 配下のドキュメントを作成・編集する → まず `docs/GEMINI.md` を読む
- `app/` 配下のコードを書く → まず `app/GEMINI.md` を読む
- `mvp/` 配下で開発する → まず `mvp/GEMINI.md` を読む

## ドキュメント管理ツール

このプロジェクトは **frontmatter MCP サーバー** を使ってドキュメントを管理しています。SQLクエリやセマンティック検索でドキュメントを効率的に探索・更新できます。

**主な機能**:
- SQLクエリによる検索・集計
- セマンティック検索（意味的類似性）
- フロントマターの一括更新
- 進捗可視化

詳細: [docs/GEMINI.md](./docs/GEMINI.md#frontmatter-管理ツール) を参照

## クイックスタート

### ドキュメント執筆者

1. `docs/GEMINI.md` を読む
2. `docs/docs/framework/` 配下の該当フェーズディレクトリを確認
3. 既存のドキュメントを参考に、新規ドキュメントを作成

### アプリケーション開発者

1. `app/GEMINI.md` を読む
2. `.env.example` をコピーして `.env` を作成
3. `docs/docs/framework/` 配下の仕様書を確認
4. `feature/#<issue>-*` ブランチを作成して開発開始

### MVP開発者

1. `mvp/GEMINI.md` を読む
2. `docs/docs/framework/02_validation/mvp.md` で仮説・スコープ・成功基準を確認
3. `.env.example` をコピーして `.env` を作成
4. Must Have の機能のみを最小限で実装
5. 計測の仕組みを組み込み、リリースして検証開始
