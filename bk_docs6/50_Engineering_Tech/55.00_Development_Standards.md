---
title: "開発標準 (Development Standards)"
type: technical
status: active
role: Engineer
tags: [development, git-flow, coding-standards, testing, ci-cd]
---

# 開発標準 (Development Standards)

> **テンプレート利用ガイド**
> 開発プロセス、コーディング規約、テスト戦略、CI/CDパイプラインを統合したドキュメントです。
> **利用職種**: All Engineers, QA


## ブランチ戦略
**Git Flow** をベースとしたブランチ運用を行います。

### ブランチ構成
- **main**: 本番環境。直接コミット禁止。`release/*` または `hotfix/*` からマージ。
- **develop**: 開発統合ブランチ。`feature/*`, `fix/*` からマージ。
- **feature/**: 機能開発。`feature/#<IssueID>-<description>`
- **fix/**: バグ修正。`fix/#<IssueID>-<description>`
- **release/**: リリース準備。`release/v<Version>`
- **hotfix/**: 本番緊急修正。`hotfix/#<IssueID>-<description>`

### マージルール
- **Squash and Merge**: 推奨。Featureブランチの履歴を1つにまとめる。
- **レビュー必須**: 承認1名以上、CI通過必須。


## コーディング規約

### 技術スタック概要
- **Frontend**: Astro, React, TypeScript, Tailwind CSS
- **Backend**: Cloudflare Workers, Hono, Drizzle ORM
- **State**: nanostores

### TypeScript / React
- **型定義**: `any` 禁止。`interface` (オブジェクト) / `type` (Union/Utility) を使い分ける。
- **命名**: Components (`PascalCase`), Functions (`camelCase`), Constants (`UPPER_SNAKE_CASE`).
- **Astro Islands**: 静的コンテンツは `.astro`、インタラクティブ部分のみ React (`client:load`)。

### Git コミット規約 (Conventional Commits)
- `feat(scope): ...` (新機能)
- `fix(scope): ...` (修正)
- `docs(scope): ...` (ドキュメント)
- `refactor(scope): ...` (リファクタリング)


## テスト戦略

### テストピラミッド
| レイヤー | ツール | カバレッジ目標 | 対象 |
| -------- | ------ | -------------- | ---- |
| **Unit** | Vitest | 90%+ | ビジネスロジック, Utils |
| **Integration** | Vitest | 80%+ | API, DB連携部分 |
| **E2E** | Playwright | 主要フロー100% | ユーザー登録, 投稿, 閲覧 |

### 実装ガイドライン
- **Unit**: 純粋なロジックをテスト。モックを多用しない。
- **Integration**: `hono/testing` やインメモリDBを使用。
- **E2E**: ユーザーのクリティカルパス（登録→投稿など）を保証。


## CI/CDパイプライン

### ワークフロー概要
1. **PR Check**: Lint, Type Check, Unit/Integration Test
2. **Merge to Develop**: Deploy to Development env, Smoke Test
3. **Release Branch**: Deploy to Staging env, E2E Test
4. **Merge to Main**: Deploy to Production, Tagging

### 環境戦略
- **Development**: `dev.example.com` (develop branch)
- **Staging**: `staging.example.com` (release/* branch)
- **Production**: `example.com` (main branch)

## 関連ドキュメント
- [51.01_TechSpec_Architecture.md](51.01_TechSpec_Architecture.md)
